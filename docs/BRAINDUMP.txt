Users should be able to see general commander stats, and not have to provide a decklist.
Deck name should be removed from commander search, it is unnecessary.
The default behaviour should be for a user to search for a commander and then be taken to the general commander page with stats
We will allow the user to upload their plaintext decklist and provide them with a nice interface to see stats for their specific decklist, cards they haven't included but could, etc.
We can do away with the deck_analyses table, relationships, and functionality entirely. We do not need to store user's decklists in the database, they can simply upload them when they want to see specific decklist stats.
We have these tables in the database: etl_jobs, etl_jobs_active, etl_status. Are all of these necessary? What processes do these serve? Are any of them unnecessary duplicates or thin wrappers? Which can we remove without impacting functionality?
Should we make this subscription based now that we do not rely on moxfield or reference them directly?
We need a way to get card-specific metadata from Scryfall's API and parse it into a readable format. Right now the only really somewhat important metadata is card type which we used to collect from Moxfield as a 0-8 scale that denoted card type. This functionality is missing from the Topdeck API and thus needs to be fetched from scryfall. We should start with this and have a flexible way to expand to capture other metadata easily in the future.
The ETL process needs an audit to see if any old moxfield processing code remains there. We are going to be moxfield-free.
We need to verify / validate that the IDs the pipeline collects for the ID column is indeed a Scryfall ID and not some internal Topdeck ID. If they are scryfall IDs then we no longer need the scryfall_id column of the cards table since it would be a duplicate.
The type field on cards is currently hardcoded to 0 since it isn't available in the Topdeck response. We need to update the ETL to fetch card type from Scryfall and populate this field correctly. Should this be done at the time of topdeck ingestion or afterwards as a separate job to populate card details in the database before completing the pipeline? Something like a separate enrich process? We need to decide if this is actually necessary or if we can query Scryfall's API at tournament ingestion time. Scryfall has relatively generous rate limits so we could potentially do this on the fly.
What other data can we collect from the Topdeck response? Should we start filtering out tournaments that have tables not of four? Can we decipher seat order of players in each game? If so this would be a valuable statistic to collect -  a commander's win rate in each seat position 1-4. We would need to filter out all games that did not have exactly four players.
We need to revisit the stripe integration to ensure this would work successfully when set up.
The codebase probably has a lot of hanging code, inconsistent patterns, and other technical debt, we should do a thorough cleanup and audit before proceeding with any of the above changes. This includes normalizing file names to kebab-case, ensuring consistent use of async/await vs promises, removing unused imports, extracting out code to utility functions where appropriate, etc.